# **모바일 청첩장 개발 계획**

## 0. **디자인 레퍼런스**

**참고 디자인**: `Plan/design_ai_origin/` 폴더의 Vanilla JS 구현 버전

### 디자인 시스템

* **색상 팔레트** (Pastel Theme):
  * Ivory (#FFFEF7) - 메인 배경
  * Beige (#F5F1E8) - 보조 배경
  * Blush (#F9E5E5) - 강조 배경
  * Rose (#E8C4C4) - 포인트 컬러
  * Dark Text (#4A4A4A) - 메인 텍스트
  * Light Text (#8B8B8B) - 보조 텍스트
  * Gold (#D4AF37) - 액센트

* **타이포그래피**:
  * 메인 폰트: Noto Serif KR, Nanum Myeongjo
  * 모바일: 14-16px
  * 데스크톱: 16-18px

* **레이아웃 컴포넌트**:
  1. Hero Section - 전체 화면 커버 이미지 + 신랑신부 이름
  2. 초대 메시지 + 양가 부모님 정보
  3. 신랑신부 약력 - 간단한 프로필 정보
  4. 이미지 갤러리 (모바일: 캐러셀, 데스크톱: 그리드)
  5. 예식장 정보 + 지도
  6. 방명록 (실시간 CRUD)
  7. 연락처 정보
  8. 카카오톡 공유 플로팅 버튼

### 구현 방향

* 레퍼런스의 디자인 시스템과 UX를 유지하면서 Next.js + TailwindCSS로 재구현
* Vanilla JS로 구현된 기능들을 React 컴포넌트로 전환
* 레퍼런스의 반응형 브레이크포인트 활용 (모바일: ~767px, 태블릿: 768~1023px, 데스크톱: 1024px~)

---

## 1. **기술 스택**

* **Frontend**: Next.js (v14+), TailwindCSS
* **Backend**: Supabase (인증·DB·스토리지·호스팅 한 번에 해결)
* **지도**: 카카오 지도 SDK
* **이미지 저장**: Supabase Storage
* **공유**: 카카오톡 JavaScript SDK
* **배포**: Vercel

---

# **기능별 상세 설계**

## 2. **신랑신부 약력**

### 요구사항

* 신랑과 신부의 간단한 프로필 정보 표시
* 깔끔하고 우아한 카드 레이아웃
* 모바일과 데스크톱 모두 읽기 편한 구성

### 구현 계획

* **표시 정보**:
  * 이름
  * 직업/소속 (선택)
  * 학력 (선택)
  * 간단한 소개 문구 (선택)
* **레이아웃**:
  * 모바일: 세로 카드 2개 (신랑 상단, 신부 하단)
  * 데스크톱: 가로 카드 2개 (신랑 좌측, 신부 우측)
* **디자인**:
  * 파스텔 배경 카드
  * 프로필 사진 (선택적으로 작은 원형 또는 사각형)
  * 구분선 및 아이콘 활용

---

## 3. **이미지 갤러리**

### 요구사항

* 2가지 갤러리 형식을 동시에 표시
  * **Infinity Loop 갤러리**: 자동으로 무한 루프 스크롤
  * **그리드 갤러리**: 클릭 가능한 썸네일 그리드
* 반응형 레이아웃:
  * **모바일**: 세로 분할 (상단: Infinity Loop / 하단: 그리드)
  * **데스크톱**: 가로 분할 (좌측: Infinity Loop / 우측: 그리드)

### 구현 계획

#### 레이아웃 구조

* 이미지 업로드 → Storage에 저장
* DB에는 이미지 URL 목록만 저장

#### Infinity Loop 갤러리

* **기능**:
  * 자동 무한 스크롤 애니메이션
  * Hover 시 일시정지 (데스크톱)
  * 부드러운 CSS 애니메이션 또는 Framer Motion 활용
* **구현 방식**:
  * 이미지 배열을 2~3번 복제하여 끊김 없는 루프 구현
  * `transform: translateX()` 또는 `translateY()` 애니메이션
  * 모바일: 가로 스크롤 / 데스크톱: 세로 스크롤 (선택 가능)

#### 그리드 갤러리

* **기능**:
  * 클릭 시 라이트박스 모달 확대
  * 키보드 네비게이션 지원 (← → ESC)
  * 썸네일 호버 효과
* **레이아웃**:
  * 모바일: 2열 그리드
  * 태블릿: 3열 그리드
  * 데스크톱: 3-4열 Masonry 또는 균등 그리드
* **최적화**:
  * Lazy loading 적용
  * 썸네일 이미지 최적화 (WebP, 적절한 해상도)

#### 반응형 컨테이너

```
모바일 레이아웃 (세로):
┌─────────────────┐
│ Infinity Loop   │
│   (가로 스크롤)  │
├─────────────────┤
│                 │
│  Grid Gallery   │
│    (2열)        │
│                 │
└─────────────────┘

데스크톱 레이아웃 (가로):
┌──────────┬──────────┐
│          │          │
│ Infinity │   Grid   │
│   Loop   │ Gallery  │
│ (세로    │  (3-4열) │
│  스크롤) │          │
│          │          │
└──────────┴──────────┘
```

* TailwindCSS: `flex-col md:flex-row`로 레이아웃 전환
* 비율: 모바일 (상단 40% / 하단 60%), 데스크톱 (좌측 40% / 우측 60%)

---

## 4. **웨딩홀 위치 지도 표시**

### 요구사항

* 카카오 지도 표시
* 하객이 길찾기 버튼을 눌러 카카오맵 앱/웹 이동

### 구현 계획

* Kakao Maps JavaScript API 로드
* 중심 좌표(웨딩홀 좌표) 고정
* 마커 + 간단한 인포윈도우
* “길찾기” 버튼 → 카카오맵 링크로 이동

  ```
  https://map.kakao.com/link/to/웨딩홀이름,위도,경도
  ```

---

## 5. **방명록(Guestbook)**

### 요구사항

* 작성, 조회
* 악성글 방지 최소한의 필터
* 모바일 타건 편하게

### 구현 계획

* DB 구조

  ```
  guestbook {
    id
    name
    message
    created_at
  }
  ```
* 백엔드: Firebase Functions or Supabase Edge Functions(선택)
* 기능:

  * 작성 → DB insert
  * 조회 → 최신순 fetch
  * 기본적인 욕설 필터 → 클라이언트 단 + 서버 단 둘 다
* UI:

  * 모바일: input + textarea 고정 바텀
  * PC: 오른쪽 사이드바 형태도 가능

---

## 6. **카카오톡 공유**

### 계획

* 카카오 SDK 로드 (JavaScript)
* 템플릿: 썸네일 + 신랑/신부 이름 + 날짜 + 링크
* 링크 → 당신의 웹사이트 URL
* 공유 버튼 디자인: 플로팅 버튼 or 하단 고정 영역

---

# **반응형 디자인 전략**

* Tailwind로 mobile-first
* Breakpoints:

  * `sm` ~ `md`: 모바일 기준 레이아웃
  * `lg`: 데스크톱 갤러리 그리드 3~4열
* 이미지 사이즈: `object-cover`, 비율 고정
* 텍스트: 모바일 14~16px, PC 16~18px
* 버튼: 터치 영역 최소 44px 확보

---

# **전체 페이지 구성**

1. **인트로 / 커버 이미지**
2. **초대 메시지 및 양가 부모님 정보**
3. **신랑신부 약력**
4. **갤러리**
5. **웨딩홀 안내 + 지도**
6. **방명록**
7. **공유 버튼**
8. **푸터 (연락처 등)**

---

# **개발 일정(초안)**

총 1~2주 기준

### **Day 1 ~ 2: 기반 세팅**

* 프로젝트 세팅(Next.js + Tailwind)
* Firebase/Supabase 연결
* 기본 라우팅, UI 프레임워크 골조

### **Day 3 ~ 4: 갤러리 구현**

* Storage 업로드 대비 API 작성
* Infinity Loop 갤러리 구현
* 그리드 갤러리 + 라이트박스 구현
* 반응형 레이아웃 적용

### **Day 5: 신랑신부 약력 섹션**

* 프로필 카드 UI 구현
* 반응형 레이아웃
* 애니메이션 효과 추가

### **Day 6: 지도 및 길찾기 기능**

* 카카오 지도 표시
* 마커/인포윈도우
* 길찾기 버튼 연결

### **Day 7 ~ 8: 방명록**

* DB CRUD
* 방명록 UI 구현
* 욕설 필터링 추가

### **Day 9: 카카오톡 공유 기능**

* SDK 연동
* 템플릿 메시지 디자인
* 공유 버튼 배치

### **Day 9: 카카오톡 공유 기능**

* SDK 연동
* 템플릿 메시지 디자인
* 공유 버튼 배치

### **Day 10 ~ 11: QA & 반응형 최적화**

* 모든 화면 테스트
* 성능 체크
* 이미지 최적화(Lazy, WebP)

---

# **환경변수 설정**

## 환경변수 목록

프로젝트 실행을 위해 다음 환경변수를 설정해야 합니다:

```env
VITE_NAVER_MAP_CLIENT_ID=
VITE_KAKAO_SDK_JS_KEY=
VITE_SERVER_URL="http://localhost:8080/api"
VITE_STATIC_ONLY=false
```

환경변수 샘플은 `.env.example` 파일에 저장되어 있습니다. 이 파일을 복사하여 `.env` 파일을 생성하고 각 환경변수를 수정합니다.

```bash
cp .env.example .env
```

## 환경변수 상세 설명

### `VITE_NAVER_MAP_CLIENT_ID`
* **용도**: 웨딩홀 위치를 표시하기 위한 네이버 지도 API 키
* **발급처**: [Naver Cloud Platform](https://www.ncloud.com/)에서 발급 가능 (Dynamic Map API)
* **필수 여부**: 지도 기능 사용 시 필수

### `VITE_KAKAO_SDK_JS_KEY`
* **용도**: 카카오톡 공유하기 기능을 위한 KAKAO SDK 키
* **발급처**: [Kakao Developers](https://developers.kakao.com/)에서 발급 가능 (JavaScript Key)
* **필수 여부**: 카카오톡 공유 기능 사용 시 필수

### `VITE_SERVER_URL`
* **용도**: 방명록과 참석 의사 전달 등을 위한 서버의 URL
* **서버 소스코드**: https://github.com/juhonamnam/wedding-invitation-server
* **기본값**: `http://localhost:8080/api` (개발 환경)
* **참고사항**:
  * 설정하지 않을 경우 소스코드상에 고정된 방명록만 보여줍니다.
  * 결혼식 끝난 이후 archive 용으로 사용 가능합니다.
  * 지금까지 올라왔던 모든 방명록을 `offlineGuestBook.json`에 소스코드로 저장하여 read only로 보관할 수 있습니다.

### `VITE_STATIC_ONLY`
* **용도**: 정적 웹사이트 전용 모드 설정
* **설명**:
  * 방명록과 참석 의사 전달 기능은 별도의 서버를 호스팅해야 합니다.
  * 이 기능을 사용하지 않고 정적 웹사이트로만 운영하려면 이 환경변수를 `true`로 설정합니다.
* **기본값**: `false`

---

# **배포 가이드**

## Vercel 배포 (권장)

Vercel은 Next.js 프로젝트 배포에 최적화되어 있으며, 무료 플랜으로도 충분히 사용 가능합니다.

### 배포 절차

1. **GitHub 저장소 연결**
   * [Vercel](https://vercel.com/) 접속 및 GitHub 계정으로 로그인
   * Import Git Repository 선택
   * 프로젝트 저장소 선택

2. **환경변수 설정**
   * Vercel 프로젝트 설정 > Environment Variables
   * 위의 환경변수 목록을 모두 추가

3. **배포**
   * Deploy 버튼 클릭
   * 자동으로 빌드 및 배포 진행

4. **도메인 설정**
   * Vercel에서 제공하는 기본 도메인 사용 또는
   * 커스텀 도메인 연결 가능

## 다른 호스팅 플랫폼

이 프로젝트는 정적 웹사이트이므로 정적 파일을 제공하는 모든 플랫폼에서 호스팅할 수 있습니다.

### 배포 절차

1. **package.json 수정**
   ```json
   {
     "homepage": "https://your-domain.com"
   }
   ```
   `homepage` 필드를 본인의 호스팅 플랫폼 URL로 수정

2. **환경변수 설정**
   * 환경변수 설정 방법은 위 **환경변수 설정** 참고
   * 각 호스팅 플랫폼의 환경변수 설정 방법에 따라 설정

3. **프로젝트 빌드**
   ```bash
   npm run build
   ```

4. **배포**
   * `build` 디렉토리의 내용을 호스팅 플랫폼에 배포
   * 예: GitHub Pages, Netlify, AWS S3, Cloudflare Pages 등

### 주요 호스팅 플랫폼별 가이드

#### GitHub Pages
```bash
npm run build
npm run deploy  # gh-pages 패키지 필요
```

#### Netlify
* Netlify에 저장소 연결
* Build command: `npm run build`
* Publish directory: `build` 또는 `dist`

#### AWS S3 + CloudFront
* S3 버킷 생성 및 정적 웹사이트 호스팅 설정
* CloudFront 배포 생성
* `build` 디렉토리 업로드

---

# **배포 후 확인사항**

## 체크리스트

- [ ] 모든 섹션이 정상적으로 표시되는지 확인
- [ ] 반응형 레이아웃 동작 확인 (모바일/태블릿/데스크톱)
- [ ] 이미지가 정상적으로 로드되는지 확인
- [ ] 카카오톡 공유 기능 테스트
- [ ] 네이버/카카오 지도 표시 확인
- [ ] 방명록 작성/조회 기능 테스트
- [ ] 전화/문자 링크 동작 확인
- [ ] 길찾기 버튼 동작 확인
- [ ] 페이지 로딩 속도 확인
- [ ] 브라우저 호환성 테스트 (Chrome, Safari, Edge, Firefox)

## 성능 최적화

* 이미지 최적화: WebP 포맷 사용, 적절한 해상도 설정
* Lazy Loading: 이미지와 컴포넌트에 지연 로딩 적용
* CDN 활용: 정적 리소스를 CDN을 통해 제공
* 캐싱 전략: 적절한 캐시 헤더 설정

---

# **문제 해결**

## 자주 발생하는 문제

### 환경변수가 적용되지 않을 때
* `.env` 파일이 프로젝트 루트 디렉토리에 있는지 확인
* 개발 서버를 재시작 (`npm run dev` 다시 실행)
* Vercel의 경우 환경변수 설정 후 재배포 필요

### 지도가 표시되지 않을 때
* API 키가 올바르게 설정되었는지 확인
* 도메인이 API 키에 등록되었는지 확인
* 브라우저 콘솔에서 에러 메시지 확인

### 카카오톡 공유가 작동하지 않을 때
* JavaScript 키가 올바른지 확인
* 카카오 개발자 플랫폼에서 웹 플랫폼 도메인 등록 확인
* 브라우저 콘솔에서 SDK 로드 상태 확인

### 빌드 에러 발생 시
* `node_modules` 삭제 후 재설치: `rm -rf node_modules && npm install`
* 패키지 버전 충돌 확인
* TypeScript 에러인 경우 타입 정의 확인
